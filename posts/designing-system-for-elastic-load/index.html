<!doctype html><html lang=en>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<title>Designing application for elastic load, not predictive load - akshay bansod</title><link rel=apple-touch-icon href=/images/favicons/apple-touch-icon.png sizes=180x180>
<link rel=icon href=/images/favicons/favicon-32x32.png sizes=32x32 type=image/png>
<link rel=icon href=/images/favicons/favicon-16x16.png sizes=16x16 type=image/png>
<link rel=manifest href=/images/favicons/manifest.json>
<link rel=icon href=/images/favicons/favicon.ico>
<meta name=keywords content>
<meta name=description content><meta itemprop=name content="Designing application for elastic load, not predictive load">
<meta itemprop=description content><meta itemprop=datePublished content="2021-09-22T16:09:51+05:30">
<meta itemprop=dateModified content="2021-09-22T16:09:51+05:30">
<meta itemprop=wordCount content="1029">
<meta itemprop=keywords content="System Design,Distributed Systems,"><meta property="og:title" content="Designing application for elastic load, not predictive load">
<meta property="og:description" content>
<meta property="og:type" content="article">
<meta property="og:url" content="/posts/designing-system-for-elastic-load/"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2021-09-22T16:09:51+05:30">
<meta property="article:modified_time" content="2021-09-22T16:09:51+05:30">
<meta name=twitter:card content="summary">
<meta name=twitter:title content="Designing application for elastic load, not predictive load">
<meta name=twitter:description content>
<link rel=preload href=/css/bundle.min.6883940c84fab3c16510baa194a791ba629182cbb612c86e3cc2f92b4c1b6109.css integrity="sha256-aIOUDIT6s8FlELqhlKeRumKRgsu2EshuPML5K0wbYQk=" crossorigin=anonymous as=style onload="this.rel='stylesheet'">
<noscript><link rel=stylesheet href=/css/bundle.min.6883940c84fab3c16510baa194a791ba629182cbb612c86e3cc2f92b4c1b6109.css integrity="sha256-aIOUDIT6s8FlELqhlKeRumKRgsu2EshuPML5K0wbYQk=" crossorigin=anonymous></noscript><script src=/js/bundle.min.9804d6e8b9e32a8495de390eed0c6cdad501f8760de297ca42eddb2f73197569.js integrity="sha256-mATW6LnjKoSV3jkO7Qxs2tUB+HYN4pfKQu3bL3MZdWk=" crossorigin=anonymous></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-ZC30LSGESM"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-ZC30LSGESM')</script></head>
<body><script src=/js/bootstrap.min.b5d86dd3a5f60c90be38a252bb65fc1a2732f32e71dc12c051720f0c7aef3cde.js integrity="sha256-tdht06X2DJC+OKJSu2X8Gicy8y5x3BLAUXIPDHrvPN4=" crossorigin=anonymous></script><header><nav class="navbar top-app-bar top-app-bar-expand-lg fixed-top">
<div class=container>
<button class="navbar-settings me-1" type=button data-bs-toggle=offcanvas data-bs-target=#offcanvasSettings aria-controls=offcanvasSettings aria-label="Toggle settings">
<i class="fas fa-bars"></i>
</button>
<div class="offcanvas offcanvas-start surface" tabindex=-1 id=offcanvasSettings aria-labelledby=offcanvasSettings>
<div class=offcanvas-header>
<h3 class=offcanvas-title>Settings</h3>
<button type=button class="btn btn-sm btn-outline-primary" data-bs-dismiss=offcanvas aria-label=Close>
<i class="fas fa-times"></i>
</button>
</div>
<div class=offcanvas-body>
<section class=setting>
<form class=row>
<div class=col-auto>
<label><i class="fas fa-fw fa-adjust"></i> Mode</label>
</div>
<div class="col-auto ms-auto">
<div class="form-check form-switch">
<input class=form-check-input type=checkbox id=modeSwitcher>
</div>
</div>
</form>
</section>
<section class=setting>
<form class="font-size-switcher-form row">
<div class=col-auto>
<label for=fontSize class=form-label><i class="fas fa-fw fa-font"></i> Font Size</label>
</div>
<div class="col-auto ms-auto">
<input type=range class=form-range min=-2 max=2 id=fontSize>
</div>
</form>
</section>
<section class="setting palettes">
<form class=row>
<div class=col-auto>
<label><i class="fas fa-fw fa-palette"></i> Palette</label>
</div>
<div class="col-auto ms-auto">
<a id=btnPalette class="btn btn-sm btn-outline-primary" role=button aria-label=palettePicker>
<i class="fas fa-eye-dropper"></i>
</a>
</div>
</form>
<div class="mt-2 d-flex visually-hidden" id=palettePicker><button type=button id=palette-blue aria-label=Blue class="btn btn-sm palette" data-palette=blue>
</button><button type=button id=palette-blue-gray aria-label="Blue Gray" class="btn btn-sm palette" data-palette=blue-gray>
</button><button type=button id=palette-brown aria-label=Brown class="btn btn-sm palette" data-palette=brown>
</button><button type=button id=palette-cyan aria-label=Cyan class="btn btn-sm palette" data-palette=cyan>
</button><button type=button id=palette-green aria-label=Green class="btn btn-sm palette" data-palette=green>
</button><button type=button id=palette-indigo aria-label=Indigo class="btn btn-sm palette" data-palette=indigo>
</button><button type=button id=palette-orange aria-label=Orange class="btn btn-sm palette" data-palette=orange>
</button><button type=button id=palette-pink aria-label=Pink class="btn btn-sm palette" data-palette=pink>
</button><button type=button id=palette-purple aria-label=Purple class="btn btn-sm palette" data-palette=purple>
</button><button type=button id=palette-red aria-label=Red class="btn btn-sm palette" data-palette=red>
</button><button type=button id=palette-teal aria-label=Teal class="btn btn-sm palette" data-palette=teal>
</button><button type=button id=palette-yellow aria-label=Yellow class="btn btn-sm palette" data-palette=yellow>
</button></div>
</section>
<section class="setting social-share">
<form class=row>
<div class=col-auto>
<label><i class="fas fa-fw fa-share-alt"></i> Share</label>
</div>
<div class="col-auto ms-auto">
<a class="btn btn-sm btn-outline-primary btn-social-share"><i class="fas fa-share"></i></a>
</div>
</form>
<div class="mt-2 social-share-buttons d-flex visually-hidden flex-nowrap">
<a class="btn btn-sm btn-outline-primary social-share-button" rel="noopener noreferrer" aria-label="Twitter Share Button" target=_blank href="https://twitter.com/intent/tweet?title=Designing%20application%20for%20elastic%20load%2c%20not%20predictive%20load&url=%2fposts%2fdesigning-system-for-elastic-load%2f">
<i class="fab fa-fw fa-twitter"></i> Twitter
</a>
<a class="btn btn-sm btn-outline-primary social-share-button" rel="noopener noreferrer" aria-label="Facebook Share Button" target=_blank href="https://www.facebook.com/sharer/sharer.php?u=%2fposts%2fdesigning-system-for-elastic-load%2f">
<i class="fab fa-fw fa-facebook-f"></i> Facebook
</a>
</div>
</section>
</div>
</div>
<a class="navbar-brand me-3" href=/><img class=logo alt=Logo src=/images/Akshay_Bansod_logo.png loading=lazy width=64 height=64>
Akshay Bansod
</a>
<button class=navbar-toggler type=button data-bs-toggle=collapse data-bs-target=#navbarSupportedContent aria-controls=navbarSupportedContent aria-expanded=false aria-label="Toggle navigation">
<i class="fas fa-ellipsis-v"></i>
</button>
<div class="collapse navbar-collapse" tabindex=-1 id=navbarSupportedContent aria-labelledby=navbarSupportedContent>
<form class="search-bar my-1" action=/search>
<div class="input-group input-group-sm">
<span class="btn btn-search disabled position-absolute left-0"><i class="fas fa-fw fa-search"></i></span>
<input class="form-control rounded-pill" name=q type=search aria-label=Search>
</div>
</form>
<ul class="navbar-nav ms-auto"><li class=nav-item>
<a class=nav-link href=/archives/>
<i class="fas fa-fw fa-file-archive"></i>Archives
</a>
</li><li class=nav-item>
<a class=nav-link href=/categories/>
<i class="fas fa-fw fa-folder"></i>Categories
</a>
</li><li class=nav-item>
<a class=nav-link href=/tags/>
<i class="fas fa-fw fa-tags"></i>Tags
</a>
</li><li class=nav-item>
<a class=nav-link href=/series/>
<i class="fas fa-fw fa-columns"></i>Series
</a>
</li></ul>
</div>
</div>
</nav>
</header>
<main role=main class=container>
<div class="row content">
<div class=col-lg-8>
<div class=container><nav class="row card component" aria-label=breadcrumb>
<div class=card-body>
<ol class=breadcrumb><li class=breadcrumb-item><a href=/>Home</a></li><li class=breadcrumb-item><a href=/posts/>Posts</a></li><li class="breadcrumb-item active">Designing Application for Elastic Load, Not Predictive Load</li></ol>
</div>
</nav><article class="post row card mb-4 component">
<div class=card-body><div class=post-panel-wrapper>
<div class="post-panel d-flex flex-column">
<a id=sidebarToggler class="action d-none d-lg-block" role=button>
<i class="fas fa-fw fa-expand-arrows-alt"></i>
</a>
<a data-bs-toggle=offcanvas href=#offcanvasTOC aria-controls=offcanvasTOC role=button>
<i class="fas fa-fw fa-list-alt"></i>
</a>
</div>
</div>
<h1 class="card-title my-3">Designing Application for Elastic Load, Not Predictive Load
</h1><div class=post-meta><span class=post-date title="created on">
<i class="fas fa-fw fa-calendar-alt"></i>Sep 22, 2021
</span><span class=post-reading-time title="reading time">
<i class="fas fa-fw fa-coffee"></i>5 min read
</span><a href=/categories/architecture/ class=post-taxonomy>Architecture</a><a href=/tags/system-design/ class=post-taxonomy>System Design</a><a href=/tags/distributed-systems/ class=post-taxonomy>Distributed Systems</a></div>
<div class="post-share mb-3"></div><div class="offcanvas offcanvas-end surface" tabindex=-1 id=offcanvasTOC aria-labelledby=offcanvasTOCLabel>
<div class=offcanvas-header>
<h2 class=offcanvas-title id=offcanvasTOCLabel>Table Of Contents</h5>
<button type=button class="btn btn-sm btn-outline-primary" data-bs-dismiss=offcanvas aria-label=Close>
<i class="fas fa-times"></i>
</button>
</div>
<div class=offcanvas-body>
<nav id=TableOfContents>
<ul>
<li><a href=#adopting-microservice-architecture>Adopting Microservice Architecture</a></li>
<li><a href=#modern-cloud-deployment>Modern Cloud Deployment</a></li>
<li><a href=#polyglot-persistence>Polyglot Persistence</a></li>
<li><a href=#asynchronous-messaging>Asynchronous Messaging</a></li>
<li><a href=#non-blocking-processing>Non-Blocking Processing</a></li>
<li><a href=#deployment-with-immutable-infrastructure>Deployment with Immutable Infrastructure</a></li>
<li><a href=#zero-trust-architecture-for-security>Zero trust architecture for security</a></li>
<li><a href=#distributed-logging>Distributed logging</a></li>
<li><a href=#designing-system-for-failure-recovery-not-to-avoid-failures>Designing system for failure recovery not to avoid failures</a></li>
<li><a href=#conclusion>Conclusion</a></li>
</ul>
</nav>
</div>
</div><div class="post-content mb-3"><p>With the exponential growth of digital users, systems are designed to sustain the high load and be responsive under such
load.</p>
<p>Earlier, systems were designed for the predictive load like 10k active users. With today&rsquo;s demand, designing a
system for predictive load is not a good approach, as it is hard to predict the load after some months or years. To meet
these challenges, systems are designed to handle the elastic load, which could sustain under high load and still be
responsive to requests.</p>
<p>Below are some points to consider for making the system highly scalable for the elastic load.</p>
<h2 id=adopting-microservice-architecture>Adopting Microservice Architecture</h2>
<p>The biggest problem with Monolith is scalability. Monolith Architecture allows vertical scaling of hardware like an
increase in CPU, RAM, etc. But vertical scaling has some limitations. For example, we could have a maximum of 64 GB of
RAM, 32-core CPU. Monolith architecture fails to serve unpredictable high load after some threshold.</p>
<p>Microservice architecture is a style of designing architecture where a system is a collection of multiple small services
based on its domain, characteristics, and team working on it. Each small service is a microservice that can be deployed
independently and could have multiple replicas. The load gets distributed amongst these replicas. Major benefits of
using microservice architecture are -</p>
<ul>
<li>Make the system highly scalable by scaling the number of replicas.</li>
<li>Provide the ability for each microservice to scale differently. For example, On an e-commerce website, where product
search service has more load than checkout service. In this case, the product catalog could have more replicas than
checkout.</li>
<li>In a monolith, the entire system is deployed on a single machine. In case of high load on a component affect other
component&rsquo;s performance, as resources are shared. Whereas each microservice has its dedicated resources.</li>
</ul>
<p><img class=img-fluid alt=microservice_architecture src=/images/microservice_architecture.png loading=lazy width=791 height=301>
</p>
<h2 id=modern-cloud-deployment>Modern Cloud Deployment</h2>
<p>On-premise traditional deployment is not scalable under unpredicted high load, as limited resources are kept reserved
for such incidents. It is recommended to use Modern Clouds like AWS, Azure, GCP, etc. These cloud providers offer high
availability and provision to scale applications automatically under high load.</p>
<p>Auto-scaling is a popular feature, used for highly scalable systems. Where application replicas are scaled up or down automatically based on load</p>
<h2 id=polyglot-persistence>Polyglot Persistence</h2>
<p>The microservice architecture enables building each microservice to have a different programming language and
persistence. A microservice could use different persistence storage for data based on query or requirement. For example,
A Product Catalog Service uses the following persistence -</p>
<ul>
<li>ElasticSearch for text-based search.</li>
<li>Redis Cache for trending/featured products.</li>
<li>NoSQL database for storing users/products/transactions.</li>
<li>RDBMS for storing metadata for joins and reporting.</li>
</ul>
<p><img class=img-fluid alt="ployglot persistance" src=/images/polyglot_persistance.png loading=lazy width=372 height=262>
</p>
<h2 id=asynchronous-messaging>Asynchronous Messaging</h2>
<p>In Asynchronous messaging, a microservice sends a message to another microservice through a queuing system. a
microservice publishes the message to a queue, the queuing system delivers the message to the recipient microservice (
consumer).</p>
<p>There are some advantages of asynchronous messaging over synchronous point-to-point communication.</p>
<ul>
<li>Recipient microservice (Consumer) need not be available all the time. if a consumer goes offline due to failure,
messages are retained in the queue and once the consumer is online, pending messages are delivered and processed in an
ordered fashion.</li>
<li>Multiple consumers subscribe to a queue. Each consumer gets their copy.</li>
<li>Multiple instances of a consumer could distribute the load.</li>
</ul>
<p><img class=img-fluid alt=asynchronous_messaging.svg src=/images/asynchronous_messaging.png loading=lazy width=531 height=301>
</p>
<h2 id=non-blocking-processing>Non-Blocking Processing</h2>
<p>In synchronous processing, During I/O operation like an HTTP post request, Thread waits for I/O operation to get
completed and resumes processing next instruction after I/O operation. These kinds of I/O operations are called blocking
I/O.</p>
<p>In non-Blocking processing, Pool of Threads runs the application. During I/O operation Threads do not wait for I/O
operation to get over but joins the Thread pool. When the I/O operation completes, a thread is popped from the Thread
pool to process the next instruction. The popped Thread could be any other thread or the same Thread that initiated I/O.</p>
<p>Non-Blocking processing optimizes resource utilization as Thread does multiple operations rather than waiting for
blocking I/O operation. Hence system I/O throughput increases, the system could serve more requests concurrently.</p>
<h2 id=deployment-with-immutable-infrastructure>Deployment with Immutable Infrastructure</h2>
<p>An immutable infrastructure is an approach where a newer version of application deployment replaces the previous version
rather than updating it.</p>
<p>In immutable infrastructure, always new container or VM or hardware is provisioned for new version of application.</p>
<p><strong>Rolling-Update</strong> and <strong>Recreate</strong> are popular strategies for deployments.</p>
<p><img class=img-fluid alt="immutable Infrastructure" src=/images/Immutable_Infrastructure.png loading=lazy width=849 height=234>
</p>
<h2 id=zero-trust-architecture-for-security>Zero trust architecture for security</h2>
<p><strong>Defense of perimeter</strong> is a popular concept where a network boundary is created around private systems. Auth Gateways
act as a gatekeeper to provide access to private and internal systems. Internal private systems that communicate
internally are not required to have access control. It has been observed that most of the security incidents reported
were compromised via internal systems.</p>
<p><strong>Zero Trust Architecture</strong> is a concept where a system must not trust another system or user based on internal or
external to its perimeter. In simpler words, each system must authenticate and authorize every request irrespective of
network or organization perimeter.</p>
<p><img class=img-fluid alt="zero trust architecture" src=/images/zero_trust_network.png loading=lazy width=646 height=580>
</p>
<h2 id=distributed-logging>Distributed logging</h2>
<p>Troubleshooting and debugging issues are in the microservice architecture are difficult as requests and responses pass
through multiple systems. A centralized and externalized logging system is used for all the logs. All microservice sends
log messages with a Correlation ID to the logging system, where system logs are analyzed.</p>
<h2 id=designing-system-for-failure-recovery-not-to-avoid-failures>Designing system for failure recovery not to avoid failures</h2>
<p>Design the system keeping in mind that failure will occur and the system must recover from it. For example, A
microservice must restart itself in case of memory overflow.</p>
<p>MTBF and MTTR are popular parameters to measure the system reliability of repairable systems.</p>
<blockquote>
<p>MTBF (mean-time-between-failures) is used to know the expected time between two failures for a repairable system.</p>
</blockquote>
<blockquote>
<p>MTTR (mean-time-to-recover) is used to predict the expected time to recover after failure.</p>
</blockquote>
<h2 id=conclusion>Conclusion</h2>
<p>Designing application for elastic load makes the system complex and increases development and maintenance costs. Not all
applications require to handle the elastic load. Some applications are built for a smaller user group e.g. employee
management system, where it is unlikely to have a high load, as the increase in employees will not happen overnight.</p>
<p>Usually, applications that are exposed to the public domain, require to handle such a huge load and unpredictable
events.</p></div><hr><div class="post-navs d-flex mb-3 justify-content-evenly">
<div class="post-nav post-prev"><i class="fas fa-fw fa-chevron-left"></i>
<a href=/about/>About
</a>
</div></div></div>
</article><div class="post-comments card row component">
<div class=card-body></div>
</div></div>
</div><aside class="col-lg-4 sidebar d-flex">
<div class=container>
<section class="profile profile-compact card row component">
<div class="col-xl-6 d-flex align-items-center justify-content-center"><img class="profile-avatar rounded-circle" alt="Akshay Bansod" src=/images/profile.jpeg loading=lazy width=320 height=320>
</div>
<div class="col-xl-6 profile-meta"><div class=profile-name>Akshay Bansod</div><div class=profile-bio>Developer</div><div class=profile-company><i class="fas fa-fw fa-building"></i>ThoughtWorks</div><div class=profile-location><i class="fas fa-fw fa-map-marker-alt"></i>Earth</div><div class=profile-about><i class="fas fa-fw fa-user"></i><a target=_blank rel="noopener noreferrer" href=https://www.linkedin.com/in/akshaybansod>About Me</a></div></div>
</section>
<section class="recent-posts row card component">
<div class=card-body>
<h2 class=card-title>Recent Posts</h2>
<ul><li><a href=/posts/designing-system-for-elastic-load/>Designing Application for Elastic Load, Not Predictive Load
</a></li></ul>
</div>
</section><section class="taxonomies row card component">
<div class=card-body>
<h2 class=card-title>
<a href=/categories>Categories</a>
</h2>
<div><a href=/categories/architecture/ class="post-taxonomy rounded btn btn-sm btn-outline-primary me-2 mb-2" title=Architecture>
Architecture
</a></div>
</div>
</section><section class="taxonomies row card component">
<div class=card-body>
<h2 class=card-title>
<a href=/tags>Tags</a>
</h2>
<div><a href=/tags/distributed-systems/ class="post-taxonomy rounded btn btn-sm btn-outline-primary me-2 mb-2" title="Distributed Systems">
Distributed Systems
</a><a href=/tags/system-design/ class="post-taxonomy rounded btn btn-sm btn-outline-primary me-2 mb-2" title="System Design">
System Design
</a></div>
</div>
</section>
</div>
</aside>
</div>
</main><footer class="footer mt-auto py-3 text-center container"><nav class="social-links nav my-2 justify-content-center"></nav>
<div class="copyright mb-2">
Copyright © 2020-2021 Akshay Bansod. All Rights Reserved.
</div>
</footer>
</body>
</html>